{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\azahi\\\\Desktop\\\\Work\\\\Personal\\\\AnimeInfoApp_ReactNative\\\\src\\\\screen\\\\SearchResultGenre.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { withNavigation } from \"react-navigation\";\nimport moment from \"moment\";\nimport jiken from \"../api/jikan\";\nvar SearchResultGenre = function SearchResultGenre(props) {\n  var type = props.navigation.getParam(\"type\");\n  var searchTopic = props.navigation.getParam(\"searchTopic\");\n  var id = props.navigation.getParam(\"id\");\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var loadDetails = function loadDetails() {\n    var response;\n    return _regeneratorRuntime.async(function loadDetails$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            console.log(type);\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(jiken.get(\"/anime?genre=\" + id + \"&genre_exclude=0&order_by=score&sort=desc\", {}));\n          case 4:\n            response = _context.sent;\n            setData(response.data.data);\n            console.log(response.data.data);\n            _context.next = 13;\n            break;\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n            setErrorMsg(\"Data Not Found!\");\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  };\n  useEffect(function () {\n    loadDetails();\n  }, [searchTopic]);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"Search Results '\", searchTopic, \"'\"), React.createElement(FlatList, {\n    numColumns: 3,\n    showsHorizontalScrollIndicator: false,\n    data: data,\n    keyExtractor: function keyExtractor(r) {\n      return r.mal_id;\n    },\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return props.navigation.navigate(\"Details\", {\n            id: item.mal_id,\n            type: \"anime\"\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.data,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }\n      }, React.createElement(Image, {\n        style: styles.image,\n        source: {\n          uri: item.images.jpg.image_url\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }\n      }), React.createElement(Text, {\n        style: styles.name,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }\n      }, item.title), React.createElement(Text, {\n        style: styles.name1,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      }, \"Release Date: \", moment(item.start_date).format(\"MMM DD, YYYY\"))));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }));\n};\nvar styles = StyleSheet.create({\n  title: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n    marginLeft: 15,\n    marginBottom: 5\n  },\n  container: {\n    marginTop: 30\n  },\n  data: {\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 10,\n    width: Dimensions.get(\"window\").width / 3 - 35\n  },\n  image: {\n    width: 100,\n    height: 170,\n    borderRadius: 4,\n    marginBottom: 6\n  },\n  name: {\n    fontWeight: \"bold\",\n    fontSize: 14,\n    marginBottom: 5\n  }\n});\nexport default withNavigation(SearchResultGenre);","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","FlatList","ScrollView","TouchableOpacity","Image","Dimensions","withNavigation","moment","jiken","SearchResultGenre","props","type","navigation","getParam","searchTopic","id","_useState","_useState2","_slicedToArray","data","setData","loadDetails","response","_regeneratorRuntime","async","loadDetails$","_context","prev","next","console","log","awrap","get","sent","t0","setErrorMsg","stop","Promise","createElement","style","styles","container","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","numColumns","showsHorizontalScrollIndicator","keyExtractor","r","mal_id","renderItem","_ref","item","onPress","navigate","image","source","uri","images","jpg","image_url","name","name1","start_date","format","create","fontSize","fontWeight","marginLeft","marginBottom","marginTop","marginRight","width","height","borderRadius"],"sources":["C:/Users/azahi/Desktop/Work/Personal/AnimeInfoApp_ReactNative/src/screen/SearchResultGenre.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  FlatList,\r\n  ScrollView,\r\n  TouchableOpacity,\r\n  Image,\r\n  Dimensions,\r\n} from \"react-native\";\r\nimport { withNavigation } from \"react-navigation\";\r\nimport moment from \"moment\";\r\n//npm install --save moment\r\nimport jiken from \"../api/jikan\";\r\n\r\nconst SearchResultGenre = (props) => {\r\n  const type = props.navigation.getParam(\"type\");\r\n  const searchTopic = props.navigation.getParam(\"searchTopic\");\r\n  const id = props.navigation.getParam(\"id\");\r\n  const [data, setData] = useState([]);\r\n\r\n  const loadDetails = async () => {\r\n    try {\r\n      console.log(type)\r\n      const response = await jiken.get(\r\n        \"/anime?genre=\" + id + \"&genre_exclude=0&order_by=score&sort=desc\",\r\n        {}\r\n      );\r\n      setData(response.data.data);\r\n      console.log(response.data.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setErrorMsg(\"Data Not Found!\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadDetails();\r\n  }, [searchTopic]);\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.title}>Search Results '{searchTopic}'</Text>\r\n      <FlatList\r\n        //horizontal\r\n        numColumns={3}\r\n        showsHorizontalScrollIndicator={false}\r\n        data={data}\r\n        keyExtractor={(r) => r.mal_id}\r\n        renderItem={({ item }) => {\r\n          return (\r\n            <TouchableOpacity\r\n              onPress={() =>\r\n                props.navigation.navigate(\"Details\", {\r\n                  id: item.mal_id,\r\n                  type: \"anime\",\r\n                })\r\n              }\r\n            >\r\n              {/* <ResultsDetail result={item}/> */}\r\n              <View style={styles.data}>\r\n                <Image\r\n                  style={styles.image}\r\n                  source={{ uri: item.images.jpg.image_url }}\r\n                />\r\n                <Text style={styles.name}>{item.title}</Text>\r\n                <Text style={styles.name1}>\r\n                  Release Date: {moment(item.start_date).format(\"MMM DD, YYYY\")}\r\n                </Text>\r\n              </View>\r\n            </TouchableOpacity>\r\n          );\r\n        }}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  title: {\r\n    fontSize: 18,\r\n    fontWeight: \"bold\",\r\n    marginLeft: 15,\r\n    marginBottom: 5,\r\n  },\r\n  container: {\r\n    marginTop: 30,\r\n    // borderBottomColor:'#F0EADE',\r\n    // paddingBottom:10,\r\n    // borderBottomWidth:3,\r\n  },\r\n  data: {\r\n    marginLeft: 15,\r\n    marginRight: 15,\r\n    marginTop: 10,\r\n    width: Dimensions.get(\"window\").width / 3 - 35,\r\n  },\r\n  image: {\r\n    // width: Dimensions.get('window').width-30,\r\n    width: 100,\r\n    height: 170,\r\n    borderRadius: 4,\r\n    marginBottom: 6,\r\n  },\r\n  name: {\r\n    fontWeight: \"bold\",\r\n    fontSize: 14,\r\n    marginBottom: 5,\r\n  },\r\n});\r\n\r\n//export default withNavigation(TopAnime);\r\n\r\nexport default withNavigation(SearchResultGenre);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}